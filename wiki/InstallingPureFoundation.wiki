#summary How to install PureFoundation on Darwin

= Introduction =

The PureFoundation project consists of two components: the Foundation.framework, which reproduces the functionality of Apple's Foundation, and a patched version of the open source CFLite. Each component relies on the other, so you will need to install both. However, the patches to CFLite _shouldn't_ prevent it operating as normal for non-Foundation applications.

This page details installing the binaries. Instructions for building a patched CFLite from source can be found [http://code.google.com/p/purefoundation/wiki/BuildingCFLite here].

= Details =

PureFoundation has been tested with (and was developed using) the PureDarwin project's [http://www.puredarwin.org/downloads/xmas PureDarwinXmas], which is a VMWare image. These instructions assume that you are running this on a Mac, using VMWare Fusion.

  # Download `PureFoundation_v0.xxxx_ryy.zip` and `CFLite-476.17_pzz.zip` (where x, y and z are the highest versions listed) from the [http://code.google.com/p/purefoundation/downloads/list downloads] page and un-archive them. For the rest of these instructions we'll assume the decompressed folders are in `~/Downloads`.
  # Ensure that VMWare Fusion is not running. Find the `puredarwinxmas.vmwarevm` virtual machine file in the Finder. Right- (Command-) click on it and select "Show Package Contents". A new window will open. Double click on the file `puredarwinxmas.vmdk`. This is the virtual machine's disk image, which should now be mounted.
  # You will probably want to move the existing CoreFoundation.framework somewhere safe, for if (when) something goes wrong.
{{{
    mv /Volumes/PureDarwinXmas/System/Library/Frameworks/CoreFoundation.framework /Volumes/PureDarwinXmas/Users/Shared
}}}
  # Copy the frameworks into place. I suggest using `ditto` from the Terminal. (These are for the v0.0008 release. Obviously, use the current version number.)
{{{
    ditto ~/Downloads/PureFoundation_v0.0008_r10/Foundation.framework/ /Volumes/PureDarwinXmas/System/Library/Frameworks/Foundation.framework

    ditto ~/Downloads/CFLite-476.17_p6/CoreFoundation.framework/ /Volumes/PureDarwinXmas/System/Library/Frameworks/CoreFoundation.framework
}}}
  # Unmount the disk image.
  # Boot VMWare Fusion.
  # Start making notes about everything which doesn't work.